<%= render 'shared/title' %>

<div class="subjects index">
  <h2>Subjects</h2>
  <%= link_to('<< To Admin Menu', access_menu_path, class: 'admin-menu')%>
  <crud-table id="table-subjects">
    <headers class="table-subjects">
      <p>#</p>
      <p>Subject</p>
      <p>Visible</p>
      <p>Pages</p>
      <p>Actions</p>
    </headers>
    <data>
      <% @subjects.each do |s| %>
        <data-segment class="table-subjects">
          <p><%= s.position %></p>
          <p><%= s.name%></p>
          <p><%= status_tag(s.visible)%></p>
          <p><%= link_to(s.pages.size, pages_path(subject_id: s.id), class: 'action show')%></p>
          <p class='actions'>
            <%= link_to('Show',       subject_path(s),                    class: 'action show') %> |
            <%= link_to('Edit',       edit_subject_path(s),               class: 'action edit') %> |
            <%= link_to('Delete',     delete_subject_path(s),             class: 'action delete') %>
          </p>
        </data-segment>
      <% end %>
    </data>

  </crud-table>
  <%= link_to('Add new subject', new_subject_path, class: 'action new')%>
</div>